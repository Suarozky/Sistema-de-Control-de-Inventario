<div class="card bg-white w-full border border-gray-200 rounded-lg p-4 transition-all duration-200 mb-2.5 hover:border-blue-500 hover:shadow-lg hover:shadow-blue-100" 
     data-product-id="<%= product.id %>">
  
  <div class="flex items-center justify-between">
    <div class="flex items-center gap-6">
      <!-- Avatar con ID -->
      <div class="w-10 h-10 bg-blue-500 to-pink-500 rounded-lg flex items-center justify-center text-white text-xs font-bold">
        #<%= product.id %>
      </div>
      

      <div class="flex flex-col min-w-0">
        <span class="text-xs text-gray-500 font-medium">Modelo</span>
        <span class="display-field text-gray-800 font-medium"><%= product.model %></span>
        <select class="edit-field mt-1 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:border-blue-500" style="display:none;">
          <% @models.each do |m| %>
            <option value="<%= m.name %>" <%= "selected" if m.name == product.model %>><%= m.name %></option>
          <% end %>
        </select>
      </div>

      <div class="flex flex-col min-w-0">
        <span class="text-xs text-gray-500 font-medium">Marca</span>
        <span class="display-field text-gray-800 font-medium"><%= product.brand %></span>
        <select class="edit-field mt-1 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:border-blue-500" style="display:none;">
          <% @brands.each do |b| %>
            <option value="<%= b.name %>" <%= "selected" if b.name == product.brand %>><%= b.name %></option>
          <% end %>
        </select>
      </div>

      <div class="flex flex-col min-w-0">
        <span class="text-xs text-gray-500 font-medium">Propietario</span>
        <span class="display-field text-gray-800 font-medium"><%= product.owner&.name %> <%= product.owner&.lastname %></span>
        <select class="edit-field mt-1 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:border-blue-500" style="display:none;">
          <% @users.each do |u| %>
            <option value="<%= u.id %>" <%= "selected" if u.id == product.ownerid %>><%= u.name %> <%= u.lastname %></option>
          <% end %>
        </select>
      </div>
      

      <div class="flex flex-col min-w-0">
        <span class="text-xs text-gray-500 font-medium">Fecha Ingreso</span>
        <span class="display-field text-gray-800 font-medium"><%= product.entry_date.strftime("%d/%m/%Y") if product.entry_date %></span>
        <input type="date" 
               class="edit-field mt-1 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:border-blue-500" 
               style="display:none;" 
               value="<%= product.entry_date&.strftime('%Y-%m-%d') %>">
      </div>
    </div>


    <div class="flex items-center gap-2 ml-4">
    <% if policy(Product).create? %>
      <button class="edit-btn px-3 py-1.5 bg-gray-100 text-gray-700 text-sm font-medium rounded-md transition-all duration-200 hover:bg-gray-200 hover:-translate-y-px">
        Editar
      </button>
      <% end %>
      
      <button class="history-btn px-3 py-1.5 bg-blue-500 text-white text-sm font-medium rounded-md transition-all duration-200 hover:bg-blue-600 hover:-translate-y-px" 
              onclick="window.location.href='<%= transactions_history_product_path(product) %>'">
        Detalles
      </button>

      <button class="save-btn px-3 py-1.5 bg-blue-500 text-white text-sm font-medium rounded-md transition-all duration-200 hover:bg-blue-600 hover:-translate-y-px" 
              style="display:none;">
        Guardar
      </button>
    </div>
  </div>
</div>